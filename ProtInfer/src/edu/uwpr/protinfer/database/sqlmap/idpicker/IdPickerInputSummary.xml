<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
      "http://ibatis.apache.org/dtd/sql-map-2.dtd"> 
<sqlMap namespace="IdPickerInputSummary"> 

	<typeAlias alias="IdPickerInputSummary" type="edu.uwpr.protinfer.database.dto.idpicker.IdPickerInputSummary"/>
	
	<resultMap class="IdPickerInputSummary" id="idpickerInputResult" extends="ProteinferInput.pinferInputResult">
		<result property="numTargetHits" column="numTargetHits" nullValue="-1"/>
		<result property="numDecoyHits" column="numDecoyHits" nullValue="-1"/>
		<result property="numFilteredTargetHits" column="numFilteredTargetHits" nullValue="-1"/>
	</resultMap>
	
	<parameterMap class="IdPickerInputSummary" id="idpickerInputParam">
		<parameter property="id" jdbcType="INTEGER" nullValue="0"/>
		<parameter property="numTargetHits" jdbcType="INTEGER" nullValue="-1" />
		<parameter property="numDecoyHits" jdbcType="INTEGER" nullValue="-1" />
		<parameter property="numFilteredTargetHits" jdbcType="INTEGER" nullValue="-1" />
	</parameterMap>
	
    <select id="selectProteinferInput" resultMap="idpickerInputResult" parameterClass="Integer">
    	SELECT * FROM proteinferInput as i, IDPickerInputSummary as idp 
    	WHERE i.id = idp.piInputID
    	AND i.piRunID = #id#
    </select>
    
    <insert id="saveProteinferInput" parameterMap="idpickerInputParam">
    	INSERT INTO IDPickerInputSummary (
    	piInputID,
    	numTargetHits,
    	numDecoyHits,
    	numFilteredTargetHits)
    	VALUES (?,?,?,?)
    </insert>
    
    <insert id="saveProteinferInputList" parameterClass="String">
    	INSERT INTO IDPickerInputSummary (
    	piInputID,
    	numTargetHits,
    	numDecoyHits,
    	numFilteredTargetHits)
    	VALUES $values$
    </insert>
    
</sqlMap>