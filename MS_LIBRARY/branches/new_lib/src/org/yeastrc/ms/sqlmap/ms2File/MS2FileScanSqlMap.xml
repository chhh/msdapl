<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
      "http://ibatis.apache.org/dtd/sql-map-2.dtd"> 
<sqlMap namespace="MS2Scan"> 

	<typeAlias alias="MS2Scan" type="org.yeastrc.ms.dto.ms2File.MS2FileScan"/>
	
	<resultMap class="MS2Scan" id="MS2ScanResult" extends="MsScan.msScanResult">
		<result property="scanChargeList" 
				column="id" 
				select="MS2ScanCharge.selectForScan"/>
		<result property="chargeIndependentAnalysisList" 
				column="id" 
				select="MS2ChgIAnalysis.selectAnalysisForScan"/>
	</resultMap>
	
	
	<select id="select" resultMap="MS2ScanResult" parameterClass="Integer">
    	SELECT id, 
    			runID, 
    			startScanNumber, 
    			endScanNumber, 
    			level, 
    			preMZ, 
    			preScanID, 
    			prescanNumber, 
    			retentionTime,
    			fragmentationType,
    			UNCOMPRESS(data) as data 
    			FROM MsScan WHERE id= #id#
    </select>
    
</sqlMap>